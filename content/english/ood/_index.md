---
weight: 7000
linkTitle: "OpenOnDemand"
title: "OpenOnDemand, HPC Portal"
description: "All you need to know to start using OpenOnDemand Portal on Grex."
titleIcon: "fa-solid fa-house-chimney"
categories: ["Software", "Interfaces"]
#tags: ["Content management"]
---

## Introduction
---

[OpenOnDemand](https://openondemand.org/ "OpenOnDemand") or __OOD__ for short, is an open source Web portal for High-Performance computing, developed at Ohio Supercomputing Center. OOD makes it easier for beginner HPC users to access the resources via a Web interface. OOD also allows for interactive, visualization and other Linux Desktop applications to be accessed on HPC systems via a convenient Web user interface.

> * Since the end of __October 2021__, OpenOnDemand version 2 is officially in production on Grex.
> * Since the beginning of __January 2023__, OpenOnDemand version 3 is officially in production on Grex.
> * Since the beginning of __February 2025__, OpenOnDemand version 4 is officially in production on Grex.

For more general OOD information, see the [OpenOnDemand paper](https://joss.theoj.org/papers/10.21105/joss.00622 "OpenOnDemand Paper")

## OpenOndemand on Grex 
---

Grex's OOD instance runs on [**ood.hpc.umanitoba.ca**](https://ood.hpc.umanitoba.ca "Grex OOD") and requires the Alliance's Duo MFA to authenticate. The OOD instance is available only from UManitoba campus IP addresses -- that is, your computer should be on the UM Campus network to connect. 

To connect from outside the UM network, please install and start __UManitoba Virtual Private Network__: [__UM VPN__](https://umanitoba.ca/information-services-technology/my-security/vpn-support "UofM VPN"). Note that you'd need the "VPN client" installation as described there; "VPN Gateway" will likely not work.

OOD relies on in-browser VNC sessions; so, a modern browser with HTML5 support is required; we recommend Google Chrome or Firefox or Safari, and their derivatives.

**Connect to OOD on campus**

> * Point your Web browser to [https://ood.hpc.umanitoba.ca](https://ood.hpc.umanitoba.ca) . This will redirect you to our Keycloack IDP screen.
> * Use your Alliance/CCDB username and password to log in to Grex OOD.
{{< collapsible title="Use your Alliance username and password to log in to Grex OOD." >}}
![MFA second factor](/globus/grex-keycloak.png)
{{< /collapsible >}}
> * Provide Alliance's Duo second factor authentication when asked.

**Connect to OOD off-campus, using UManitoba VPN:**

> * Make sure UM Ivanti Secure VPN is connected. This may require using UManitoba MS Entra second factor authentication. Note that UManitoba uses a different MFA second factor than the Alliance! 
> * Perform the steps 1-3 as per above.

There are different options for the Alliance Duo MFA, like the 6 digits passcode generated by DUO mobile application:
 
{{< collapsible title="Use your 6 digits passcode generated by DUO mobile app" >}}
![MFA second factor](/mfa/mfa-duo-passcode.png)
{{< /collapsible >}}

or use the passcode generated by your __YubiKey__:

{{< collapsible title="Use your YubiKey: touch and hold to receive the code." >}}
![MFA second factor](/mfa/mfa-ubikey-passcode.png)
{{< /collapsible >}}

Or any other option by clicking on the menu "Other options".

Once connected, you will see the following screen with the current Grex Message-of-the-day (MOTD):

{{< collapsible title="OpenOndemand front page" >}}
![OpenOnDemand Front Page](/ood/frontpage.png)
{{< /collapsible >}}

## Navigating OOD Web portal interface

There are several areas of interest on the OOD main webpage: the Dashboard bar on the top of the screen, various menu items (such as Files, Clusters, Jobs, Interactive Apps and Sessions). Their use is described below.

A lisf of ineractive applications is accessible from the top menu __Interactive Apps__ as shown in the following screenshot:

{{< collapsible title="OpenOndemand interactive applications" >}}
![OpenOnDemand Interactive Apps](/ood/interactive-apps0.png)
{{< /collapsible >}}

If you scroll down from the front page, some icons with links to pinned applications and featured subset of all available applications:

{{< collapsible title="Links to interactive applications" >}}
![Links to OpenOnDemand Interactive Apps](/ood/interactive-apps1.png)
{{< /collapsible >}}

{{< alert type="warning" >}}
Please note that the list of applications may change over time. The snapshots shown on this page are taken from the current list of the available applications on the OpenOnDemand portal.
{{< /alert >}}

OOD expects user accounts and directories on Grex to be already created. Thus, new users who want to work with OOD should first connect to Grex normally, via [SSH](connecting/ssh) shell at least once, to make the creation of account, directories, and quota complete. Also, OOD creates a state directory under users' ``/home`` (__/home/$USER/ondemand__) where it keeps information about running and completed OOD jobs, shells, desktop sessions and such. Deleting the __ondemand__ directory while a job or session is running would likely cause the job or session to fail.

{{< alert type="warning" >}}
It is better to leave the __/home/$USER/ondemand__ directory alone!
{{< /alert >}}

## Working with files and directories
---

One of the convenient and useful features of OOD is its Files app that allows you to browse the files and directories
across all Grex filesystems: __/home__ and __/project__. 

{{< collapsible title="File view on OpenOndemand web portal on Grex" >}}
![](/ood/files.png)
{{< /collapsible >}}

You can also upload your data to Grex using this Web interface. Note that there are limits on the size of th uploads on the Web server and there can be practical limits on download sizes as well due to internet connection speed and stability.

> Note: OOD on Grex has a 10Gb limit for maximal size of files to be uploaded through the File menu.

## Customized OOD apps on Grex
---

The OOD Dashboard menu, __Interactive Apps__, shows interactive applications. This is the main feature of OOD, it allows interactive work and visualizations, all in the browser. These applications will run as SLURM Jobs on Grex compute nodes. Users can specify required SLURM resources such as time, number of cores and partitions.

{{< collapsible title="OpenOndemand applications on Grex" >}}
![](/ood/applications.png)
{{< /collapsible >}}

After the Apps jobs are submitted, the corresponding jobs appear in the __Interactive Sessions__ tab. There they can be monitored, connected to, and terminated.

There are numerous supported "applications" in OnDemand on Grex. These applications fall into two broad categories: Virtual Desktop apps (the ones delivering a Linux Desktop with some GUI software via NoVNC) and Servers that are delivered through a Web Proxy. A prominent example of a Server app is Jupyter Notebook or Jupyter Lab. Some Apps such as Matlab or Rstudio exists both as a Linux Desktop GUI and a Server version.

>We keep actively developing the OOD Web Portal, and the list below may change as we add more popular applications or remove less used ones!

As for now, the following applications are supported:

| Application | Type | Availability | Notes|
|-----| :-----------:|:-----------:|-----------|
| Linux Desktop | NoVNC Desktop | Generally available | - |
| GaussView  | NoVNC Desktop | Licensed users only | - |
| Matlab |  NoVNC Desktop | Generally available | - | 
| Matlab | Server  | Generally available | - |
| JupyterLab | Server | Generally available | Comes for SBEnv and CCEnv | - | 
| Rstudio-Server| Server | Generally available |  Comes for SBEnv and CCEnv | - |
| Visual Studio Code Server| Server | Generally available | - |
| MetaSHapePro | NoVNC Desktop | Licensed users only | - |
| RELION | NoVNC Desktop | Generally available | - |
| STATA | NoVNC Desktop | Licensed users only | - |
| Feko | NoVNC Desktop | Licensed users only | | - | 
| Ovito | NoVNC Desktop | Generally available | - | 

> Note that only Apps available (licensed) to your research group will be visible in your group members' OOD interface.

As with regular SLURM jobs, it is important to specify SLURM partitions for them to start faster. Perhaps the __test__ partition for Desktop is the best place to start interactive Desktop jobs, so it is hardcoded in the __Simplified Desktop__ item.

The following links are added to OOD:

> - From the menu __Jobs__, there is a link __Grex SLURM Queues State__ that shows a summary of running and pending jobs. The same information can be accessed from any login node by running the __grex-summarize-queue__ command.
> - From the menu __Clusters__, there is a link __Grex SLURM Node State__ to get a summary of allocated and idle nodes by partition. The same information can be accessed from any login node by running the __slurm-nodes-state__ command.
 
---

<!-- {{< treeview display="tree" />}} -->

<!-- Changes and update:

* Last reviewed on: Apr 29, 2024. 
-->
