<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Data Sizes and Quota"><meta property="og:title" content><meta property="og:description" content="Data sizes and quotas This section explains how to find the actual use of your /home/ and /global/scratch allocations on Grex. We limit the size of the data and the number of files that can be stored on these filesystem. To figure out where your current usage stands with the limit, POSIX quota or Lustres' analog, lfs quota commands can be used.
NFS quota The _/home/ filesystem is served by NFSv1 and thus supports the standard POSIX quota command."><meta property="og:type" content="article"><meta property="og:url" content="http://um-grex.github.io/grex-docs/docs/grex/data/data-sizes-and-quota/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-11-24T10:38:37-06:00"><title>Data Sizes and Quota | Unofficial Grex User Guide</title><link rel=icon href=/grex-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/grex-docs/book.min.9e24c4795dd4fdd0e504b497cfd7198ef04d9fc59147fe183e68ca7912ee2901.css integrity="sha256-niTEeV3U/dDlBLSXz9cZjvBNn8WRR/4YPmjKeRLuKQE="><script defer src=/grex-docs/en.search.min.161f9cf51adf16bcba439124f9bb1f1cfbf7d5e0187b3fe400e258941d4be10b.js integrity="sha256-Fh+c9RrfFry6Q5Ek+bsfHPv31eAYez/kAOJYlB1L4Qs="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=http://um-grex.github.io/grex-docs><img src=/grex-docs/um_logo_email_signature.png alt=Logo><span>Unofficial Grex User Guide</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/>Notes of Grex Changes</a><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/training/>Training Materials and Presentations</a><ul></ul></li></ul></li><li class=book-section-flat><a href=/grex-docs/docs/computecanada/>Accessing Compute Canada resources</a><ul></ul></li><li class=book-section-flat><a href=/grex-docs/docs/grex/>Grex HPC Documentation</a><ul><li><a href=/grex-docs/docs/grex/access/>Access and Usage conditions</a></li><li><a href=/grex-docs/docs/grex/connecting/>Connecting / Transferring data</a></li><li><a href=/grex-docs/docs/grex/data/>Storage and Data</a><ul><li><a href=/grex-docs/docs/grex/data/data-sharing/>Data Sharing</a></li><li><a href=/grex-docs/docs/grex/data/data-sizes-and-quota/ class=active>Data Sizes and Quota</a></li></ul></li><li><a href=/grex-docs/docs/grex/running/>Running Jobs</a></li><li><a href=/grex-docs/docs/grex/ood/>Grex's OpenOnDemand Web Portal</a></li><li><a href=/grex-docs/docs/grex/software/>Software</a></li></ul></li><li><a href=/grex-docs/docs/faq/>Frequently Asked Questions</a></li><li><a href=/grex-docs/docs/localit/>Local IT Resources</a></li><li><a href=/grex-docs/docs/support-contacts/>Support and Training</a></li><li><a href=/grex-docs/docs/disclaimer/>Disclaimer</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class="flex align-center justify-between book-header"><label for=menu-control><img src=/grex-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Data Sizes and Quota</strong></header><article class=markdown><h1 id=data-sizes-and-quotas>Data sizes and quotas</h1><p>This section explains how to find the actual use of your <em>/home/</em> and <em>/global/scratch</em> allocations on Grex.
We limit the size of the data and the number of files that can be stored on these filesystem. To figure
out where your current usage stands with the limit, POSIX <em>quota</em> or Lustres' analog, <em>lfs quota</em> commands can be used.</p><h2 id=nfs-quota>NFS quota</h2><p>The _/home/ filesystem is served by NFSv1 and thus supports the standard POSIX <em>quota</em> command. For the current user it is just:</p><p><code>quota</code></p><p>The command will result in something like this (note the <em>-s</em> flag added to make units human readable:</p><pre><code>
[auser@grex ~]$ quota -s
Disk quotas for user auser (uid 12345):
     Filesystem   space   quota   limit   grace   files   quota   limit   grace
     192.168.0.1:/exports/home/home
                        4G   30G   33G             131k    500k   550k
</code></pre><p>The output is a self explanatory table. There is two values: soft &ldquo;quota&rdquo; and hard &ldquo;limit&rdquo; per each of (space, files).
If you are over soft quota, the value of used resource (space or files) will have a star <strong>*</strong> to it, and &ldquo;grace&rdquo; countdown will be shown.
Getting over grace period, or over the hard limit prevents you to writing new data or creating new file on the filesystem.
If you are over quota on <em>/home/</em> it is time to do some clean up there, or migrate the data-heavy items to <em>/global/scratch</em> where they belong.</p><p>CAVEAT: ComputeCanada breaks the POSIX standard by redefining the quota command in their software stack.
So after loading the <em>CCEnv</em> module on Grex, the quota command will return garbage. Load <em>GrexEnv</em> first.</p><h2 id=lustre-quota>Lustre quota</h2><p>The <em>/global/scratch/</em> filesystem is actually a link to a (new) Lustre filesystem <em>/sbb/</em>.
We have retained the old name for compatibility with the old Lustre filesystem that was used on Grex between 2011 and 2017.
Lustre filesystem provides a <em>lfs quota</em> subcommand that requires the name of the filesystem specified. So for the current user, the command to
get current usage, in the human-readable units, would be as follows:</p><p><code>lfs quota -h /sbb/</code></p><p>With the output:</p><pre><code>[auser@grex ~]$ lfs quota -h /sbb
Disk quotas for usr auser (uid 12345):
     Filesystem    used   quota   limit   grace   files   quota   limit   grace
           /sbb    622G  2.644T  3.653T       - 5070447  6000000 7000000       -
</code></pre><p>Presently we do not enforce group or project quota on Grex.</p><p>If you are over quota on Lustre <em>/global/scratch</em> filesystem, just like for NFS, there will be a star to the value exceeding the limit, and
the grace countdown will be active.</p></article><div class="book-footer justify-between"><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/commit/3113c038c2ddcc8f07638870ea8ddac42c26dd6d title="Last modified by Shamov | Nov 24, 2021" target=_blank><img src=/grex-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>Nov 24, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/blob/master/content/docs/grex/data/data-sizes-and-quota.md target=_blank><img src=/grex-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></div><aside class="book-toc levels-4 fixed"><nav id=TableOfContents><ul><li><a href=#data-sizes-and-quotas>Data sizes and quotas</a><ul><li><a href=#nfs-quota>NFS quota</a></li><li><a href=#lustre-quota>Lustre quota</a></li></ul></li></ul></nav></aside></main></body></html>