<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Software"><meta property="og:title" content><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://um-grex.github.io/grex-docs/docs/grex/software/"><title>Software | Unofficial Grex User Guide</title><link rel=icon href=/grex-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/grex-docs/book.min.06cbd313f49ddc884804421299d5dc11b1cd097fdcfed7f054a79a137890a2d7.css integrity="sha256-BsvTE/Sd3IhIBEISmdXcEbHNCX/c/tfwVKeaE3iQotc="><script defer src=/grex-docs/en.search.min.f2becbb3fbc478954907ac55703bc9f51081aadafca2e4d6d8d72a64c36ddfd5.js integrity="sha256-8r7Ls/vEeJVJB6xVcDvJ9RCBqtr8ouTW2NcqZMNt39U="></script><link rel=alternate type=application/rss+xml href=http://um-grex.github.io/grex-docs/docs/grex/software/index.xml title="Unofficial Grex User Guide"></head><body><input type=checkbox class=hidden id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><style>hr{border:0;height:3px;background-image:linear-gradient(to right,transparent,#095484,transparent)}</style><h2 class=book-brand><a href=http://um-grex.github.io/grex-docs><img src=/grex-docs/logo/um_logo_email_signature.png style=width:auto;height:auto alt=Logo><br><hr><span>Unofficial Grex User Guide</span><hr></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><hr><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/>Notes of Grex Changes</a><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/training/>Training Materials and Presentations</a><ul></ul></li></ul></li><li class=book-section-flat><a href=/grex-docs/docs/computecanada/>Accessing Compute Canada resources</a><ul></ul></li><li class=book-section-flat><a href=/grex-docs/docs/grex/>Grex HPC QuickStart</a><ul><li><a href=/grex-docs/docs/grex/access/>Access and Usage conditions</a></li><li><a href=/grex-docs/docs/grex/connecting/>Connecting / Transferring data</a></li><li><a href=/grex-docs/docs/grex/data/>Storage and Data</a></li><li><a href=/grex-docs/docs/grex/running/>Running Jobs</a></li><li><a href=/grex-docs/docs/grex/ood/>Grex's OpenOnDemand Web Portal</a></li><li><a href=/grex-docs/docs/grex/software/ class=active>Software</a><ul><li><a href=/grex-docs/docs/grex/software/cern-vmfs/>CVMFS and ComputeCanada</a></li><li><a href=/grex-docs/docs/grex/software/general-linux/>General Linux tools</a></li><li><a href=/grex-docs/docs/grex/software/containers/>Containers for Software</a></li><li><a href=/grex-docs/docs/grex/software/code-development/>Code Development on Grex</a></li><li><a href=/grex-docs/docs/grex/software/jupyter-notebook/>Using JuPyTer Notebooks</a></li><li><a href=/grex-docs/docs/grex/software/specific/>Software-specific notes</a></li></ul></li></ul></li><li><a href=/grex-docs/docs/faq/>Frequently Asked Questions</a></li><li><a href=/grex-docs/docs/localit/>Local IT Resources</a></li><li><a href=/grex-docs/docs/support-contacts/>Support and Training</a></li><li><a href=/grex-docs/docs/disclaimer/>Disclaimer</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><article class=markdown><h1 id=software>Software</h1><p>In HPC world, software is more often meant as codes that do some scientific or engineering computation, data processing and visualiation (as opposed to web services, relational databases, client-server businness systems, email and office, &mldr; etc).</p><p>Tools and libraries used to develop HPC software are also software, and have several best practices associated with them. Some of that will be covered below. Without means to provide software to do computations, HPC systems would be rather useless.</p><p>Fortunately most HPC systems, and Grex is no exception, come with a pre-installed, curated software stack. This section covers how to find the installed software, how to access it, and what options you have if some of the software you need is missing.</p><h2 id=how-software-is-installed-and-distributed>How software is installed and distributed</h2><p>There are several mechanisms of software installation under Linux. One of them is using Linux software package manager (<strong>apt</strong> on Ubuntu, <strong>yum</strong> on Centos, etc) and a binary package repository provided by some third party. These package managers would install a version of the code system wide, into standard OS directories like <strong>/usr/bin</strong> where it would be immediately available in the systems PATH (PATH is a variable that specifies where the operating systems would look for executable code).</p><p>This method of installation is often practiced on person&rsquo;s own workstations, because it requires no knowledge other than syntax of the OS package manager. There are however significant drawbacks to it for using on HPC clusters that consists of many compute nodes and are shared by many users:</p><blockquote class="book-hint warning"><ul><li><p>Need of root access to install in the base OS is a systems stability and security threat, and has a potential of users interfering with each other.</p></li><li><p>Package managers as a rule do not keep several versions of the same package; they are geared towards having only the newest one (as in &ldquo;software update&rdquo;), which poses a problem for reproducible research.</p></li><li><p>A package should be installed across all the nodes of the cluster; thus the installations should be somehow managed.</p></li><li><p>Binary packages in public repos tend to be compiled for generic CPU architectures rather than optimized for a particular system.</p></li></ul></blockquote><p>Thus in HPC world, as a rule, only a minimal set of core Linux OS packages is installed by system administrators, and no access to package managers is given to the end users. There are ways to let users have their own Linux OS images through virtualization and containerization technolgies (see the <a href=../software/containers/>Containers</a>
section) when it is really necessary.</p><p>On most of the HPC machines, the application software is recompiled from sources and installed into a shared filesystem so that each compute node has access to the same code. Multiple versions of a software package can be installed into each own PATH; dependencies between software (such as libraries from one package needed to be accessed by another package) are tracked via a special software called Environmental Modules.</p><p>The Modules package would manipulate the PATH (and other systems environment variables like <strong>LD_LIBRARY_PATH</strong>, <strong>CPATH</strong> and application-specific ones like <strong>MKLROOT</strong>, <strong>HDF5_HOME</strong>) on user request, &ldquo;loading&rdquo; and &ldquo;unloading&rdquo; specified software items.</p><p>The two most popular Modules are the original <a href=http://modules.sourceforge.net/ target=_blank rel=noopener>Tcl Modules</a>
and its <a href=https://lmod.readthedocs.io/en/latest/ target=_blank rel=noopener>Lmod</a>
rewrite in Lua at <a href=https://www.tacc.utexas.edu/research-development/tacc-projects/lmod target=_blank rel=noopener>TACC</a>
. On the new Grex, <strong>Lmod</strong> is used.</p><h2 id=lmod>Lmod</h2><p>The main feature of Lmod is hierarchical module system to provide a better control of software dependencies. Modules for software items that depend on a particular core modules (toolchains: a compiler suite, a MPI library) are only accessible after the core modules are loaded. This prevents situations where conflicts appear when software items built with different toolchains are loaded simultaneously. Lmod will also automatically unload conflicting modules and reload their dependencies should toolchain change. Finally, by manipulating module root paths, it is possible to provide more than one software stack per HPC system. For more information, please refer the software stacks available on Grex.</p><h2 id=how-to-find-the-software-with-lmod-modules>How to find the software with Lmod Modules</h2><p>A &ldquo;software stack&rdquo; module should be loaded first. On Grex, there are two software stack, called <strong>GrexEnv</strong> and <strong>CCEnv</strong>, and standing for the sofware built on Grex locally and the software environment from Compute Canada, correspondingly. <strong>GrexEnv</strong> is the only module loaded by default.</p><p>When a software stack module is loaded, the <strong>module spider</strong> command will find a specific software item (for example, GAMESS; note that all the module names are <strong>lower-case</strong> on Grex and on Compute Canada software stacks) if it exist under that stack:</p><blockquote class="book-hint info">module spider gamess</blockquote><p>It might return several versions; then usually a subsequent command with the version is used to determine dependencies required for the software. In case of GAMESS on Grex:</p><blockquote class="book-hint info">module spider gamess/Sept2019</blockquote><p>It will advise to load the following modules: <strong>&ldquo;intel/15.0.5.223 impi/5.1.1.109&rdquo;</strong>. Then, <strong>module load</strong> command can be used actually to load the GAMESS environment (note that the dependencies must be loaded first:</p><blockquote class="book-hint info"><p><code>module load intel/15.0.5.223 impi/5.1.1.109</code></p><p><code>module load gamess/Sept2019</code></p></blockquote><p>For more information about using Lmod modules, please refer to Compute Canada documentation about <a href=https://docs.computecanada.ca/wiki/Utiliser_des_modules/en target=_blank rel=noopener>Using Modules</a>
and <a href=https://lmod.readthedocs.io/en/latest/010_user.html target=_blank rel=noopener>Lmod User Guide</a>
.</p><h2 id=how-and-when-to-install-software-in-your-home-directory>How and when to install software in your HOME directory</h2><p>Linux (Unlike some Desktop operatinhg systems) has a concept of user permissions separation. Regular users cannot, unless explicitly permitted, access systems files and files of other users.</p><p>You can almost always install software without <strong>super-user</strong> access into your <strong>/home/$USER</strong> directory. Moreover, you can manage the software with Lmod: Lmod automatically searches for module files under <strong>$HOME/modulefiles</strong> and adds the modules it discovers there into the modules tree so they can be found by <strong>module spider</strong>, loaded by <strong>module load</strong>, etc.</p><p>Most Linux software can be installed from sources using either <a href=https://www.gnu.org/software/autoconf/ target=_blank rel=noopener>Autoconf</a>
or <a href=https://cmake.org/ target=_blank rel=noopener>CMake</a>
configuration tools. These will accept <strong>--prefix=/home/$USER/my-software/version</strong> or <strong>-DCMAKE_INSTALL_PREFIX=/home/$USER/my-software/version</strong>.</p><p>Software that come as binary archive to be unpacked can be simply unpacked into your home directory location. Then, the paths should be set for the sofware to be found: either by including the environment variable in <strong>$HOME/.bashrc</strong> or by creating a specific module in <strong>$HOME/modulefiles/my-software/version</strong> following Lmod instructions for <a href=https://lmod.readthedocs.io/en/latest/015_writing_modules.html target=_blank rel=noopener>writing Modules</a>
.</p><p>There exist binary software environments like Conda that manage their own tree of binary-everything. These can be used as well, with some caution, because automatically pulling everything might conflict with the same software existing in the HPC environment (Python package paths, MPI libraries, etc.).</p><p>However, if a software is really a part of the base OS (something like a graphics Desktop software, etc.), it can be hard to rebuild from sources due to many dependencies. If needed, it may be better if installed centrally or used in a container (see Containers documentation).</p><h2 id=related-links>Related links</h2><ul><li><a href=https://lmod.readthedocs.io/en/latest/ title=Lmod target=_blank rel=noopener>Lmod</a></li><li><a href=http://modules.sourceforge.net/ title="Tcl Modules" target=_blank rel=noopener>Tcl Modules</a></li><li><a href=https://cmake.org/ title=CMake target=_blank rel=noopener>CMake</a></li><li><a href=https://www.gnu.org/software/autoconf/ title=Autoconf target=_blank rel=noopener>Autoconf</a></li></ul></article><div class="book-footer justify-between"><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/commit/9adf520d9899e8853cdcabb8eac7ead15215f176 title="Last modified by Dr. Ali Kerrache | Feb 24, 2022" target=_blank><img src=/grex-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>Feb 24, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/blob/master/content/docs/grex/software/_index.md target=_blank><img src=/grex-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><br><hr></div><aside class="book-toc levels-4 fixed"><nav id=TableOfContents><ul><li><a href=#software>Software</a><ul><li><a href=#how-software-is-installed-and-distributed>How software is installed and distributed</a></li><li><a href=#lmod>Lmod</a></li><li><a href=#how-to-find-the-software-with-lmod-modules>How to find the software with Lmod Modules</a></li><li><a href=#how-and-when-to-install-software-in-your-home-directory>How and when to install software in your HOME directory</a></li><li><a href=#related-links>Related links</a></li></ul></li></ul></nav></aside></main></body></html>