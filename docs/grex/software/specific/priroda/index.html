<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Priroda"><meta property="og:title" content><meta property="og:description" content="Priroda Introduction Priroda is a fast parallel relativistic DFT and ab initio code for molecular modeling, developed by Dr. Dimitri N. Laikov. The code originally implemented fast resolution-of-identity GGA DFT for coulomb and exchange integrals. Later it was extended to provide RI-DFT with hybrid functionals, RI-HF and RI-MP2, and parallel high-level coupled-cluster methods. All these levels of theory can be used together with an efficient all-electron scalar-relativistic method, with small-component bases supplied for all the elements of Periodic Table."><meta property="og:type" content="article"><meta property="og:url" content="http://um-grex.github.io/grex-docs/docs/grex/software/specific/priroda/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-02-16T11:44:23-06:00"><title>Priroda | Unofficial Grex User Guide</title><link rel=icon href=/grex-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/grex-docs/book.min.06cbd313f49ddc884804421299d5dc11b1cd097fdcfed7f054a79a137890a2d7.css integrity="sha256-BsvTE/Sd3IhIBEISmdXcEbHNCX/c/tfwVKeaE3iQotc="><script defer src=/grex-docs/en.search.min.0c2c6acf124278b29a84ace82c5edcc34bb81b2bde7cd1fcd8caa45f6e955b9d.js integrity="sha256-DCxqzxJCeLKahKzoLF7cw0u4GyvefNH82MqkX26VW50="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><style>hr{border:0;height:3px;background-image:linear-gradient(to right,transparent,#095484,transparent)}</style><h2 class=book-brand><a href=http://um-grex.github.io/grex-docs><img src=/grex-docs/logo/um_logo_email_signature.png style=width:auto;height:auto alt=Logo><br><hr><span>Unofficial Grex User Guide</span><hr></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><hr><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/>Notes of Grex Changes</a><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/training/>Training Materials and Presentations</a><ul></ul></li></ul></li><li class=book-section-flat><a href=/grex-docs/docs/computecanada/>Accessing Compute Canada resources</a><ul></ul></li><li class=book-section-flat><a href=/grex-docs/docs/grex/>Grex HPC QuickStart</a><ul><li><a href=/grex-docs/docs/grex/access/>Access and Usage conditions</a></li><li><a href=/grex-docs/docs/grex/connecting/>Connecting / Transferring data</a></li><li><a href=/grex-docs/docs/grex/data/>Storage and Data</a></li><li><a href=/grex-docs/docs/grex/running/>Running Jobs</a></li><li><a href=/grex-docs/docs/grex/ood/>Grex's OpenOnDemand Web Portal</a></li><li><a href=/grex-docs/docs/grex/software/>Software</a><ul><li><a href=/grex-docs/docs/grex/software/cern-vmfs/>CVMFS and ComputeCanada</a></li><li><a href=/grex-docs/docs/grex/software/general-linux/>General Linux tools</a></li><li><a href=/grex-docs/docs/grex/software/containers/>Containers for Software</a></li><li><a href=/grex-docs/docs/grex/software/code-development/>Code Development on Grex</a></li><li><a href=/grex-docs/docs/grex/software/jupyter-notebook/>Using JuPyTer Notebooks</a></li><li><a href=/grex-docs/docs/grex/software/specific/>Software-specific notes</a><ul><li><a href=/grex-docs/docs/grex/software/specific/gaussian/>Gaussian</a></li><li><a href=/grex-docs/docs/grex/software/specific/julia/>Julia</a></li><li><a href=/grex-docs/docs/grex/software/specific/lammps/>Lammps</a></li><li><a href=/grex-docs/docs/grex/software/specific/matlab/>Matlab</a></li><li><a href=/grex-docs/docs/grex/software/specific/nwchem/>Nwchem</a></li><li><a href=/grex-docs/docs/grex/software/specific/orca/>Orca</a></li><li><a href=/grex-docs/docs/grex/software/specific/priroda/ class=active>Priroda</a></li><li><a href=/grex-docs/docs/grex/software/specific/vasp/>Vasp</a></li></ul></li></ul></li></ul></li><li><a href=/grex-docs/docs/faq/>Frequently Asked Questions</a></li><li><a href=/grex-docs/docs/localit/>Local IT Resources</a></li><li><a href=/grex-docs/docs/support-contacts/>Support and Training</a></li><li><a href=/grex-docs/docs/disclaimer/>Disclaimer</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><article class=markdown><h1 id=priroda>Priroda</h1><h2 id=introduction>Introduction</h2><p>Priroda is a fast parallel relativistic DFT and ab initio code for molecular modeling, developed by Dr. Dimitri N. Laikov. The code originally implemented fast resolution-of-identity GGA DFT for coulomb and exchange integrals. Later it was extended to provide RI-DFT with hybrid functionals, RI-HF and RI-MP2, and parallel high-level coupled-cluster methods. All these levels of theory can be used together with an efficient all-electron scalar-relativistic method, with small-component bases supplied for all the elements of Periodic Table. The current release of the code also includes a novel NDO-based semiempirical method.</p><h2 id=user-responsibilities-and-access>User Responsibilities and Access</h2><p>The code is free for academic users, but is not open source. It is distributed on request by the Author, Dr. Dimitri N. Laikov.
To access the Priroda code on Grex, the prospective users have to send us (<a href=mailto:support@computecanada.ca>support@computecanada.ca</a>) a free-form email confirming that
they have read and agreed to abide by the following conditions:</p><p><strong>Conditions for the Priroda code access on Grex:</strong></p><blockquote class="book-hint danger"><ul><li>I understand that the Priroda code&rsquo;s ownership and copyright belongs solely to its Author, Dr. Dimitri N. Laikov. I will not incorporate any part of the Priroda code into any other program system, either for sale or for non-profit distribution, without written permission by the Author.</li><li>I will not copy, distribute or supply the Priroda code for any reason whatsoever to third persons or organizations. Instead, I will direct all the code requests to the Author.</li></ul><ul><li>If results obtained with the code are published, I will cite the proper Priroda code references and, when appropriate, the specific methods references, as described in the Priroda code documentation and/or <a href=http://rad.chem.msu.ru/~laikov/>Dr.Laikov&rsquo;s website</a>.</li></ul><ul><li>I understand that the Priroda code is provided &ldquo;as is&rdquo; and the author is not assuming any responsibilities or any liabilities that might arise from the usage of the code, whatsoever.</li></ul></blockquote><p>After receiving the email, we will add the user to the wg-prrda UNIX group that is used to control access to the Priroda program, basis sets and docummentaton</p><h2 id=running-priroda-on-grex>Running Priroda on Grex</h2><p>The Priroda code is linked against OpenMPI bulit with a GCC compiler. There are several versions of them, and <em>module spider priroda</em> would help to locate the dependencies. As of the time of writing, the following command would load the Priroda version of 2016:</p><blockquote class="book-hint info"><code>module load gcc/5.2 ompi/3.1.4 priroda/2016</code></blockquote><p>The parallel Priroda executable (called <strong>p</strong>) will be in the PATH after loading of the module. Its basis sets and/or semiempirical method parameters can be found under <strong>$PRIRODA/bin</strong>. Documentation and examples are are available under <strong>$PRIRODA/doc</strong> and <strong>$PRIRODA/example</strong>, correspondingly.</p><p>The style of the Priroda input is of free format namelist groups, similar to that of GAMESS-US but more flexible (no limitations inherited from Fortran77). Examples and desctiption of each input group are in the <strong>doc</strong> and <strong>example</strong> directories.
To invoke the code interactively:</p><blockquote class="book-hint info"><code>mpiexec p name.inp name.out</code></blockquote><p>An archive of old Priroda documentation is here <a href=/doc/Priroda_Documentation_from_KNCWiki.pdf>Priroda old docs from KNC</a></p><h2 id=using-priroda-with-slurm>Using Priroda with SLURM</h2><p>Priroda is MPI-parallelized. The parallel efficiency varies on the method used and the kind of calculation (energies, geometry optimizations or analytical hessians) performed. Pure GGA DFT calculations are quite fast and tightly coupled, and makes sense to use single node with a few tasks per node, or a few nodes, as in example below. RI-MP2 calculations would benefit from more massively parallel calculations, spanning several nodes.</p><p>It makes no sense to ask more than 4000mb per task.</p><h3 id=sample-slurm-script>Sample SLURM Script</h3><blockquote class="book-hint slurm"><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:teal>#!/bin/bash
</span><span style=color:teal></span><span style=color:#080;font-style:italic>#SBATCH --nodes=1 --ntasks-per-node=6 --mem-per-cpu=2000mb</span>
<span style=color:#080;font-style:italic>#SBATCH --time=0-2:00:00</span>
<span style=color:#080;font-style:italic>#SBATCH --job-name=priroda-test-c60</span>
SCR=$TMPDIR
echo <span style=color:#00f>&#34;assuming inputs in </span>$SLURM_SUBMIT_DIR<span style=color:#00f>&#34;</span>
module load gcc/5.2 ompi/3.1.4 priroda/2016
<span style=color:#080;font-style:italic># copy the input file (c60.inp) locally and set the resource requests</span>
<span style=color:#080;font-style:italic># and temporary paths. note that the file myfile.inp</span>
<span style=color:#080;font-style:italic># should not have a $system .. $end group</span>
cp c60.inp $SCR/priroda.inp
cd $SCR
echo <span style=color:#00f>&#39;   &#39;</span> &gt;&gt; priroda.inp
echo <span style=color:#00f>&#39; $system &#39;</span> &gt;&gt; priroda.inp
echo <span style=color:#00f>&#34;   memory=1000 disk=10 path=. &#34;</span> &gt;&gt; priroda.inp
echo <span style=color:#00f>&#39; $end &#39;</span> &gt;&gt; priroda.inp
cat priroda.inp
<span style=color:#080;font-style:italic># Copy basis sets locally:</span>
cp $PRIRODA/bin/*.in $SCR
cp $PRIRODA/bin/*.bas $SCR
echo <span style=color:#00f>&#34;Start date:`date`&#34;</span>
<span style=color:#080;font-style:italic># Actually run the job</span>
srun $PRIRODA/bin/p priroda.inp $SLURM_SUBMIT_DIR/c60.$SLURM_JOBID.log
echo <span style=color:#00f>&#34;Program finished with exit code </span>$?<span style=color:#00f> at: `date`&#34;</span></code></pre></div></blockquote><h2 id=various-scripts-and-utilities>Various scripts and utilities</h2><p>There are some simple scripts and utilities in <strong>$PRIRODA/contrib</strong> directory. They can be used for conversions of inputs/outputs to and from Molden XYZ format, extraction of the MOs and vibrational frequencies, and restart informations from the Priroda output files.</p></article><div class="book-footer justify-between"><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/commit/4a07d74120d95d4386c1c274f941df41cb1cc57e title="Last modified by Shamov | Feb 16, 2022" target=_blank><img src=/grex-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>Feb 16, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/blob/master/content/docs/grex/software/specific/priroda.md target=_blank><img src=/grex-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><br><hr></div><aside class="book-toc levels-4 fixed"><nav id=TableOfContents><ul><li><a href=#priroda>Priroda</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#user-responsibilities-and-access>User Responsibilities and Access</a></li><li><a href=#running-priroda-on-grex>Running Priroda on Grex</a></li><li><a href=#using-priroda-with-slurm>Using Priroda with SLURM</a><ul><li><a href=#sample-slurm-script>Sample SLURM Script</a></li></ul></li><li><a href=#various-scripts-and-utilities>Various scripts and utilities</a></li></ul></li></ul></nav></aside></main></body></html>