<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Priroda"><meta property="og:title" content><meta property="og:description" content="Priroda Introduction Priroda is a fast parallel relativistic DFT and ab initio code for molecular modeling, developed by Dr. Dimitri N. Laikov. The code originally implemented fast resolution-of-identity GGA DFT for coulomb and exchange integrals. Later it was extended to provide RI-DFT with hybrid functionals, RI-HF and RI-MP2, and parallel high-level coupled-cluster methods. All these levels of theory can be used together with an efficient all-electron scalar-relativistic method, with small-component bases supplied for all the elements of Periodic Table."><meta property="og:type" content="article"><meta property="og:url" content="http://um-grex.github.io/grex-docs/docs/grex/software/specific/priroda/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-06-29T07:58:23-05:00"><title>Priroda | Unofficial Grex User Guide</title><link rel=icon href=/grex-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/grex-docs/book.min.9e24c4795dd4fdd0e504b497cfd7198ef04d9fc59147fe183e68ca7912ee2901.css integrity="sha256-niTEeV3U/dDlBLSXz9cZjvBNn8WRR/4YPmjKeRLuKQE="><script defer src=/grex-docs/en.search.min.937d4ab3854d0ccdbf7b51efffef2b32e172b767bc77ffbc44e0fae199393916.js integrity="sha256-k31Ks4VNDM2/e1Hv/+8rMuFyt2e8d/+8ROD64Zk5ORY="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=http://um-grex.github.io/grex-docs><img src=/grex-docs/um_logo_email_signature.png alt=Logo><span>Unofficial Grex User Guide</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/>Notes of Grex Changes</a><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/training/>Training Materials and Presentations</a><ul></ul></li></ul></li><li class=book-section-flat><a href=/grex-docs/docs/computecanada/>Accessing Compute Canada resources</a><ul></ul></li><li class=book-section-flat><a href=/grex-docs/docs/grex/>Grex HPC Documentation</a><ul><li><a href=/grex-docs/docs/grex/access/>Access and Usage conditions</a></li><li><a href=/grex-docs/docs/grex/connecting/>Connecting / Transferring data</a></li><li><a href=/grex-docs/docs/grex/data/>Storage and Data</a></li><li><a href=/grex-docs/docs/grex/running/>Running Jobs</a></li><li><a href=/grex-docs/docs/grex/software/>Software</a><ul><li><a href=/grex-docs/docs/grex/software/cern-vmfs/>CVMFS and ComputeCanada</a></li><li><a href=/grex-docs/docs/grex/software/general-linux/>General Linux tools</a></li><li><a href=/grex-docs/docs/grex/software/containers/>Containers for Software</a></li><li><a href=/grex-docs/docs/grex/software/code-development/>Code Development on Grex</a></li><li><span>Software-specific notes</span><ul><li><a href=/grex-docs/docs/grex/software/specific/gaussian/>Gaussian</a></li><li><a href=/grex-docs/docs/grex/software/specific/julia/>Julia</a></li><li><a href=/grex-docs/docs/grex/software/specific/matlab/>Matlab</a></li><li><a href=/grex-docs/docs/grex/software/specific/nwchem/>Nwchem</a></li><li><a href=/grex-docs/docs/grex/software/specific/orca/>Orca</a></li><li><a href=/grex-docs/docs/grex/software/specific/priroda/ class=active>Priroda</a></li><li><a href=/grex-docs/docs/grex/software/specific/vasp/>Vasp</a></li></ul></li></ul></li></ul></li><li><a href=/grex-docs/docs/faq/>Frequently Asked Questions</a></li><li><a href=/grex-docs/docs/localit/>Local IT Resources</a></li><li><a href=/grex-docs/docs/support-contacts/>Support and Training</a></li><li><a href=/grex-docs/docs/disclaimer/>Disclaimer</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class="flex align-center justify-between book-header"><label for=menu-control><img src=/grex-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Priroda</strong></header><article class=markdown><h1 id=priroda>Priroda</h1><h2 id=introduction>Introduction</h2><p>Priroda is a fast parallel relativistic DFT and ab initio code for molecular modeling, developed by Dr. Dimitri N. Laikov.
The code originally implemented fast resolution-of-identity GGA DFT for coulomb and exchange integrals.
Later it was extended to provide RI-DFT with hybrid functionals, RI-HF and RI-MP2, and parallel high-level coupled-cluster methods.
All these levels of theory can be used together with an efficient all-electron scalar-relativistic method, with
small-component bases supplied for all the elements of Periodic Table. The current release of the code also includes a novel NDO-based semiempirical method.</p><h2 id=user-responsibilities-and-access>User Responsibilities and Access</h2><p>The code is free for academic users, but is not open source. It is distributed on request by the Author, Dr. Dimitri N. Laikov.
To access the Priroda code on Grex, the prospective users have to send us (<a href=mailto:support@computecanada.ca>support@computecanada.ca</a>) a free-form email confirming that
they have read and agreed to abide by the following conditions:</p><p>Conditions for the Priroda code access on WestGrid:</p><ul><li>I understand that the Priroda code&rsquo;s ownership and copyright belongs
solely to its Author, Dr. Dimitri N. Laikov. I will not incorporate any
part of the Priroda code into any other program system, either for sale or
for non-profit distribution, without written permission by the Author.</li><li>I will not copy, distribute or supply the Priroda code for any reason
whatsoever to third persons or organizations. Instead, I will direct all
the code requests to the Author.</li><li>If results obtained with the code are published, I will cite the proper
Priroda code references and, when appropriate, the specific methods
references, as described in the Priroda code documentation and/or <a href=http://rad.chem.msu.ru/~laikov/>Dr.Laikov&rsquo;s website</a>.</li><li>I understand that the Priroda code is provided &ldquo;as is&rdquo; and the author is not assuming any responsibilities or any liabilities that might arise from the usage of the code, whatsoever.</li></ul><p>After receiving the email, we will add the user to the wg-prrda UNIX group that is used to control access to the Priroda program, basis sets and docummentaton</p><h2 id=running-priroda-on-grex>Running Priroda on Grex</h2><p>The Priroda code is linked against OpenMPI bulit with a GCC compiler. There are several versions of them, and <em>module spider priroda</em> would help to locate the dependencies.
As of the time of writing, the following command would load the Priroda version of 2016:</p><p><code>module load gcc/5.2 ompi/3.1.4 priroda/2016</code></p><p>Thee parallel Priroda executable (called <em>p</em> ) will be in the PATH after loading of the module.
Its basis sets and/or semiempirical method parameters can be found under <em>$PRIRODA/bin</em>. Documentation and examples are
are available under <em>$PRIRODA/doc</em> and <em>$PRIRODA/example</em>, correspondingly.</p><p>The style of the Priroda input is of free format namelist groups, similar to that of GAMESS-US but more flexible
(no limitations inherited from Fortran77). Examples and desctiption of each input group are in the <em>doc</em> and <em>example</em> directories.
To invoke the code interactively:</p><p><code>mpiexec p name.inp name.out</code></p><p>An archive of old Priroda documentation is here <a href=/doc/Priroda_Documentation_from_KNCWiki.pdf>Priroda old docs from KNC</a></p><h2 id=using-priroda-with-slurm>Using Priroda with SLURM</h2><p>Priroda is MPI-parallelized. The parallel efficiency varies on the method used and the kind of calculation
(energies, geometry optimizations or analytical hessians) performed. Pure GGA DFT calculations are quite fast and tightly coupled,
and makes sense to use single node with a few tasks per node, or a few nodes, as in example below. RI-MP2 calculations would benefit from
more massively parallel calculations, spanning several nodes.</p><p>It makes no sense to ask more than 4000mb per task.</p><h3 id=sample-slurm-script>Sample SLURM Script</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span><span style=color:#75715e>#SBATCH --nodes=1 --ntasks-per-node=6 --mem-per-cpu=2000mb</span>
<span style=color:#75715e>#SBATCH --time=0-2:00:00</span>
<span style=color:#75715e>#SBATCH --job-name=priroda-test-c60</span>

SCR<span style=color:#f92672>=</span>$TMPDIR

echo <span style=color:#e6db74>&#34;assuming inputs in </span>$SLURM_SUBMIT_DIR<span style=color:#e6db74>&#34;</span>

module load gcc/5.2
module load ompi/3.1.4
module load priroda/2016

<span style=color:#75715e># copy the input file (c60.inp) locally and set the resource requests</span>
<span style=color:#75715e># and temporary paths. note that the file myfile.inp</span>
<span style=color:#75715e># should not have a $system .. $end group</span>

cp c60.inp $SCR/priroda.inp

cd $SCR

echo <span style=color:#e6db74>&#39;   &#39;</span> &gt;&gt; priroda.inp
echo <span style=color:#e6db74>&#39; $system &#39;</span> &gt;&gt; priroda.inp
echo <span style=color:#e6db74>&#34;   memory=1000 disk=10 path=. &#34;</span> &gt;&gt; priroda.inp
echo <span style=color:#e6db74>&#39; $end &#39;</span> &gt;&gt; priroda.inp

cat priroda.inp

<span style=color:#75715e>#  copy basis sets locally</span>

cp $PRIRODA/bin/*.in $SCR
cp $PRIRODA/bin/*.bas $SCR

echo <span style=color:#e6db74>&#34;Start date:`date`&#34;</span>
<span style=color:#75715e># Actually run the job</span>

srun $PRIRODA/bin/p priroda.inp $SLURM_SUBMIT_DIR/c60.$SLURM_JOBID.log

echo <span style=color:#e6db74>&#34; End  date:`date`&#34;</span>

<span style=color:#75715e>#all done</span></code></pre></div><h2 id=various-scripts-and-utilities>Various scripts and utilities</h2><p>There are some simple scripts and utilities in <em>$PRIRODA/contrib</em> directory. They can be used
for conversions of inputs/outputs to and from Molden XYZ format, extraction of the MOs and vibrational frequencies,
and restart informations from the Priroda output files.</p></article><div class="book-footer justify-between"><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/commit/f42cd442db68ea019509b0aa26c742457dd13f71 title="Last modified by Shamov | Jun 29, 2021" target=_blank><img src=/grex-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>Jun 29, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/blob/master/content/docs/grex/software/specific/priroda.md target=_blank><img src=/grex-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></div><aside class="book-toc levels-4 fixed"><nav id=TableOfContents><ul><li><a href=#priroda>Priroda</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#user-responsibilities-and-access>User Responsibilities and Access</a></li><li><a href=#running-priroda-on-grex>Running Priroda on Grex</a></li><li><a href=#using-priroda-with-slurm>Using Priroda with SLURM</a><ul><li><a href=#sample-slurm-script>Sample SLURM Script</a></li></ul></li><li><a href=#various-scripts-and-utilities>Various scripts and utilities</a></li></ul></li></ul></nav></aside></main></body></html>