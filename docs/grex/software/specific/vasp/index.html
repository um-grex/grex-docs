<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Vasp"><meta property="og:title" content><meta property="og:description" content="VASP Introduction VASP is a massively parallel plane-wave solid state DFT code. On Grex it is available only for the research groups that hold VASP license. To get access, PIs would need to send us a confirmation email from the VASP vendor, detailing status of their license and a list of users allowed to use it.
System specific notes On the Grex local software stack, we have VASP 5 and VASP 6 is using Intel compiler and OpenMPI 3."><meta property="og:type" content="article"><meta property="og:url" content="http://um-grex.github.io/grex-docs/docs/grex/software/specific/vasp/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-06-29T07:58:23-05:00"><title>Vasp | Unofficial Grex User Guide</title><link rel=icon href=/grex-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/grex-docs/book.min.9e24c4795dd4fdd0e504b497cfd7198ef04d9fc59147fe183e68ca7912ee2901.css integrity="sha256-niTEeV3U/dDlBLSXz9cZjvBNn8WRR/4YPmjKeRLuKQE="><script defer src=/grex-docs/en.search.min.7c8d83c4c9aea6d1a57f52aaaf5ca7ca861c8d28672422202b98ce959e36811c.js integrity="sha256-fI2DxMmuptGlf1Kqr1ynyoYcjShnJCIgK5jOlZ42gRw="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=http://um-grex.github.io/grex-docs><img src=/grex-docs/um_logo_email_signature.png alt=Logo><span>Unofficial Grex User Guide</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/>Notes of Grex Changes</a><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/training/>Training Materials and Presentations</a><ul></ul></li></ul></li><li class=book-section-flat><a href=/grex-docs/docs/computecanada/>Accessing Compute Canada resources</a><ul></ul></li><li class=book-section-flat><a href=/grex-docs/docs/grex/>Grex HPC Documentation</a><ul><li><a href=/grex-docs/docs/grex/access/>Access and Usage conditions</a></li><li><a href=/grex-docs/docs/grex/connecting/>Connecting / Transferring data</a></li><li><a href=/grex-docs/docs/grex/data/>Storage and Data</a></li><li><a href=/grex-docs/docs/grex/running/>Running Jobs</a></li><li><a href=/grex-docs/docs/grex/software/>Software</a><ul><li><a href=/grex-docs/docs/grex/software/cern-vmfs/>CVMFS and ComputeCanada</a></li><li><a href=/grex-docs/docs/grex/software/general-linux/>General Linux tools</a></li><li><a href=/grex-docs/docs/grex/software/containers/>Containers for Software</a></li><li><a href=/grex-docs/docs/grex/software/code-development/>Code Development on Grex</a></li><li><span>Software-specific notes</span><ul><li><a href=/grex-docs/docs/grex/software/specific/gaussian/>Gaussian</a></li><li><a href=/grex-docs/docs/grex/software/specific/julia/>Julia</a></li><li><a href=/grex-docs/docs/grex/software/specific/matlab/>Matlab</a></li><li><a href=/grex-docs/docs/grex/software/specific/nwchem/>Nwchem</a></li><li><a href=/grex-docs/docs/grex/software/specific/orca/>Orca</a></li><li><a href=/grex-docs/docs/grex/software/specific/priroda/>Priroda</a></li><li><a href=/grex-docs/docs/grex/software/specific/vasp/ class=active>Vasp</a></li></ul></li></ul></li></ul></li><li><a href=/grex-docs/docs/faq/>Frequently Asked Questions</a></li><li><a href=/grex-docs/docs/localit/>Local IT Resources</a></li><li><a href=/grex-docs/docs/support-contacts/>Support and Training</a></li><li><a href=/grex-docs/docs/disclaimer/>Disclaimer</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class="flex align-center justify-between book-header"><label for=menu-control><img src=/grex-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Vasp</strong></header><article class=markdown><h1 id=vasp>VASP</h1><h2 id=introduction>Introduction</h2><p><a href=https://www.vasp.at/wiki/index.php/The_VASP_Manual>VASP</a> is a massively parallel plane-wave solid state DFT code. On Grex it is available only for the research groups that hold VASP license. To get access, PIs would need to send us a confirmation email from the VASP vendor, detailing status of their license and a list of users allowed to use it.</p><h2 id=system-specific-notes>System specific notes</h2><p>On the Grex local software stack, we have VASP 5 and VASP 6 is using Intel compiler and OpenMPI 3.1. To find out which versions of VASP re available, use <code>module spider vasp</code> .</p><p>For a version 6.1.2, at the time of writing the following modules have to be loaded:</p><p><code>module load intel/2019.5 ompi/3.1.4</code></p><p><code>module load vasp/6.1.2</code></p><p>There are three executables for VASP CPU version: <em>vasp_gam</em> , <em>vasp_ncl</em> , and <em>vasp_std</em> . Refer to the VASP manual as to what these mean. An example VASP SLURM script using the standard version of the VASP binary is below:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span><span style=color:#75715e>#SBATCH --ntasks=16 -cpus-per-task=1</span>
<span style=color:#75715e>#SBATCH --mem-per-cpu=3400mb</span>
<span style=color:#75715e>#SBATCH --time=0-3:00:00</span>
<span style=color:#75715e>#SBATCH --job-name=vasp-test</span>

<span style=color:#75715e>#adjust the number of tasks, time and memory required.</span>
<span style=color:#75715e>#the above spec is for 16 compute tasks, using 3400 MB per task .</span>

module load intel/2019.5  ompi/3.1.4
module load vasp/6.1.2

which vasp_std

export MKL_NUM_THREADS<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>

srun vasp_std  &gt; vasp_test.$SLURM_JOBID.log

echo <span style=color:#e6db74>&#34;all done!‚Äù
</span><span style=color:#e6db74>#######</span></code></pre></div><p>Assuming the script above is saved as <em>vasp.job</em>, it can be sumbitted with</p><p><code>sbatch vasp.job</code></p><p>The script assumes that VASP6 inputs (INCAR, POTCAR etc.) are in the same directory as the job script.</p></article><div class="book-footer justify-between"><div><a class="flex align-center" href=https://github.com/gshamov/site/commit/f42cd442db68ea019509b0aa26c742457dd13f71 title="Last modified by Shamov | Jun 29, 2021" target=_blank><img src=/grex-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>Jun 29, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/gshamov/site/blob/master/content/docs/grex/software/specific/vasp.md target=_blank><img src=/grex-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></div><aside class="book-toc levels-4 fixed"><nav id=TableOfContents><ul><li><a href=#vasp>VASP</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#system-specific-notes>System specific notes</a></li></ul></li></ul></nav></aside></main></body></html>