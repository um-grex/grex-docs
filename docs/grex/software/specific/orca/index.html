<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Orca"><meta property="og:title" content><meta property="og:description" content="ORCA Introduction ORCA is a flexible, efficient and easy-to-use general purpose tool for quantum chemistry with specific emphasis on spectroscopic properties of open-shell molecules. It features a wide variety of standard quantum chemical methods ranging from semiempirical methods to DFT to single - and multireference correlated ab initio methods. It can also treat environmental and relativistic effects.
User Responsibilities and Access ORCA is a proprietary software, even if it is free it still requires you to agree to the ORCA license conditions."><meta property="og:type" content="article"><meta property="og:url" content="http://um-grex.github.io/grex-docs/docs/grex/software/specific/orca/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-06-29T07:58:23-05:00"><title>Orca | Unofficial Grex User Guide</title><link rel=icon href=/grex-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/grex-docs/book.min.9e24c4795dd4fdd0e504b497cfd7198ef04d9fc59147fe183e68ca7912ee2901.css integrity="sha256-niTEeV3U/dDlBLSXz9cZjvBNn8WRR/4YPmjKeRLuKQE="><script defer src=/grex-docs/en.search.min.3f13cfddd1bd96203511462af00f63b1190f579d7049f3386884c87699c44725.js integrity="sha256-PxPP3dG9liA1EUYq8A9jsRkPV51wSfM4aITIdpnERyU="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=http://um-grex.github.io/grex-docs><img src=/grex-docs/um_logo_email_signature.png alt=Logo><span>Unofficial Grex User Guide</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/>Notes of Grex Changes</a><ul><li class=book-section-flat><a href=/grex-docs/docs/longread/training/>Training Materials and Presentations</a><ul></ul></li></ul></li><li class=book-section-flat><a href=/grex-docs/docs/computecanada/>Accessing Compute Canada resources</a><ul></ul></li><li class=book-section-flat><a href=/grex-docs/docs/grex/>Grex HPC Documentation</a><ul><li><a href=/grex-docs/docs/grex/access/>Access and Usage conditions</a></li><li><a href=/grex-docs/docs/grex/ood/>Grex's OpenOnDemand Web Portal</a><ul></ul></li><li><a href=/grex-docs/docs/grex/connecting/>Connecting / Transferring data</a></li><li><a href=/grex-docs/docs/grex/data/>Storage and Data</a></li><li><a href=/grex-docs/docs/grex/running/>Running Jobs</a></li><li><a href=/grex-docs/docs/grex/software/>Software</a><ul><li><a href=/grex-docs/docs/grex/software/cern-vmfs/>CVMFS and ComputeCanada</a></li><li><a href=/grex-docs/docs/grex/software/general-linux/>General Linux tools</a></li><li><a href=/grex-docs/docs/grex/software/containers/>Containers for Software</a></li><li><a href=/grex-docs/docs/grex/software/code-development/>Code Development on Grex</a></li><li><span>Software-specific notes</span><ul><li><a href=/grex-docs/docs/grex/software/specific/gaussian/>Gaussian</a></li><li><a href=/grex-docs/docs/grex/software/specific/julia/>Julia</a></li><li><a href=/grex-docs/docs/grex/software/specific/matlab/>Matlab</a></li><li><a href=/grex-docs/docs/grex/software/specific/nwchem/>Nwchem</a></li><li><a href=/grex-docs/docs/grex/software/specific/orca/ class=active>Orca</a></li><li><a href=/grex-docs/docs/grex/software/specific/priroda/>Priroda</a></li><li><a href=/grex-docs/docs/grex/software/specific/vasp/>Vasp</a></li></ul></li></ul></li></ul></li><li><a href=/grex-docs/docs/faq/>Frequently Asked Questions</a></li><li><a href=/grex-docs/docs/localit/>Local IT Resources</a></li><li><a href=/grex-docs/docs/support-contacts/>Support and Training</a></li><li><a href=/grex-docs/docs/disclaimer/>Disclaimer</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class="flex align-center justify-between book-header"><label for=menu-control><img src=/grex-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Orca</strong></header><article class=markdown><h1 id=orca>ORCA</h1><h2 id=introduction>Introduction</h2><p><a href=http://cec.mpg.de/forum/>ORCA</a> is a flexible, efficient and easy-to-use general purpose tool for quantum
chemistry with specific emphasis on spectroscopic properties of open-shell molecules. It features a wide variety of standard quantum chemical methods
ranging from semiempirical methods to DFT to single - and multireference correlated ab initio methods. It can also treat environmental and
relativistic effects.</p><h2 id=user-responsibilities-and-access>User Responsibilities and Access</h2><p>ORCA is a proprietary software, even if it is free it still requires you to agree to the ORCA license conditions.
We have installed ORCA on Grex, but to access the binaries each of the ORCA users has to confirm they have accepted the license.</p><p>The procedure is as follows: first, register at <a href=https://orcaforum.kofo.mpg.de/>ORCA forum</a> .
After the registration is complete, go to ORCA download page, and accept the license conditions.
Then contact us (via ComputeCanada support for example) quoting the ORCA email and stating that you also would like to access ORCA on Grex.</p><h2 id=system-specific-notes>System specific notes</h2><p>On Grex, ORCA is using OpenMPI 3.1.x from GCC toolchains. So the following modules have to be loaded before using ORCA:</p><p><code>module load gcc/5.2</code></p><p><code>module load ompi/3.1.4</code></p><p><code>module load orca</code></p><p>To load the ORCA module and access the binaries, you will have first get access as per above.
Use <code>module spider orca</code> to see what versions are available on Grex.</p><h2 id=using-orca-with-slurm>Using ORCA with SLURM</h2><h3 id=sample-slurm-script>Sample SLURM Script</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span><span style=color:#75715e>#SBATCH --ntasks=8</span>
<span style=color:#75715e>#SBATCH --mem-per-cpu=2500M</span>
<span style=color:#75715e>#SBATCH --time=0-3:00:00</span>
<span style=color:#75715e>#SBATCH --job-name=&#34;ORCA-test&#34;</span>

<span style=color:#75715e># adjust the number of tasks, memory and walltime above as necessary!</span>

<span style=color:#75715e># Load the OpenMPI and ORCA modules:</span>
module load gcc/5.2  ompi/3.1.4 orca/4.2.1

<span style=color:#75715e># Assign the input file:</span>

ORCA_INPUT_NAME<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>ls *.inp | awk -F <span style=color:#e6db74>&#34;.&#34;</span> <span style=color:#e6db74>&#39;{print $1}&#39;</span><span style=color:#e6db74>`</span>
ORCA_RAW_IN<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>ORCA_INPUT_NAME<span style=color:#e6db74>}</span>.inp

<span style=color:#75715e># Specify the output file:</span>

ORCA_OUT<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>ORCA_INPUT_NAME<span style=color:#e6db74>}</span>.out

echo <span style=color:#e6db74>&#34;Current working directory is `pwd`&#34;</span>

NUM_PROCS<span style=color:#f92672>=</span>$SLURM_NTASKS

echo <span style=color:#e6db74>&#34;Running on </span>$NUM_PROCS<span style=color:#e6db74> processors.&#34;</span>
echo <span style=color:#e6db74>&#34;Creating temporary input file </span><span style=color:#e6db74>${</span>ORCA_IN<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>

ORCA_IN<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>ORCA_RAW_IN<span style=color:#e6db74>}</span>_<span style=color:#e6db74>${</span>SLURM_JOBID<span style=color:#e6db74>}</span>
cp <span style=color:#e6db74>${</span>ORCA_RAW_IN<span style=color:#e6db74>}</span> <span style=color:#e6db74>${</span>ORCA_IN<span style=color:#e6db74>}</span>

echo <span style=color:#e6db74>&#34;%PAL nprocs </span>$NUM_PROCS<span style=color:#e6db74>&#34;</span> &gt;&gt; <span style=color:#e6db74>${</span>ORCA_IN<span style=color:#e6db74>}</span>
echo <span style=color:#e6db74>&#34;   end &#34;</span>                &gt;&gt; <span style=color:#e6db74>${</span>ORCA_IN<span style=color:#e6db74>}</span>
echo <span style=color:#e6db74>&#34; &#34;</span>                      &gt;&gt; <span style=color:#e6db74>${</span>ORCA_IN<span style=color:#e6db74>}</span>

<span style=color:#75715e># The orca command should be called with a full path:</span>
echo <span style=color:#e6db74>&#34;Starting run at: `date`&#34;</span>

ORCAEXEC<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>which orca<span style=color:#e6db74>`</span>
<span style=color:#e6db74>${</span>ORCAEXEC<span style=color:#e6db74>}</span> <span style=color:#e6db74>${</span>ORCA_IN<span style=color:#e6db74>}</span> &gt; <span style=color:#e6db74>${</span>ORCA_OUT<span style=color:#e6db74>}</span>

echo <span style=color:#e6db74>&#34;Program finished with exit code </span>$?<span style=color:#e6db74> at: `date`&#34;</span>
<span style=color:#75715e># end of the script</span></code></pre></div><p>Assuming the script above is saved as <em>orca.job</em>, it can be sumbitted with</p><p><code>sbatch orca.job</code></p></article><div class="book-footer justify-between"><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/commit/f42cd442db68ea019509b0aa26c742457dd13f71 title="Last modified by Shamov | Jun 29, 2021" target=_blank><img src=/grex-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>Jun 29, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/um-grex/grex-docs/blob/master/content/docs/grex/software/specific/orca.md target=_blank><img src=/grex-docs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></div><aside class="book-toc levels-4 fixed"><nav id=TableOfContents><ul><li><a href=#orca>ORCA</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#user-responsibilities-and-access>User Responsibilities and Access</a></li><li><a href=#system-specific-notes>System specific notes</a></li><li><a href=#using-orca-with-slurm>Using ORCA with SLURM</a><ul><li><a href=#sample-slurm-script>Sample SLURM Script</a></li></ul></li></ul></li></ul></nav></aside></main></body></html>